webpackJsonp([12],{q6qK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("FxR9"),o=a("R2SV"),n=a("Izdj"),i=a("wWxp"),r={name:"menuManage",mixins:[n.a],data:function(){var e=this;return{tableObject:{data:[],column:l.e,buttons:[{text:"编辑",callback:function(t,a){e.editDialogShow=!0,e.getSingleData(a.id),e.title="编辑"}},{text:"删除",type:"danger",callback:function(t,a){e.delDialogShow=!0,e.delId=a.id,e.delflag="single"}}]},totalPage:1,currentPage:1,delDialogShow:!1,delId:"",multipSelectId:"",delflag:"single",editDialogShow:!1,title:"",form:{},rules:{languageType:[{required:!0,message:"请选择语言",trigger:"blur"}],sort:[{required:!0,validator:function(e,t,a){t?1==/[^\d]/g.test(t)?a(new Error("请输入数字！")):a():a(new Error("请输入排序！"))},trigger:"blur"}],name:[{required:!0,message:"请输入菜单名",trigger:"blur"}]},languageList:[]}},methods:{getData:function(e){var t=this;Object(i.j)({pageNo:e,pageSize:10}).then(function(e){e.success&&(t.tableObject.data=e.body.list,t.totalPage=e.body.count)})},getSort:function(e){var t=this;Object(i.k)({}).then(function(e){t.$set(t.form,"sort",e)})},getSingleData:function(e){var t=this;Object(i.t)({id:e}).then(function(a){t.$set(t.form,"languageType",a.body.kubProductInfo.languageType),t.$set(t.form,"name",a.body.kubProductInfo.name),t.$set(t.form,"sort",a.body.kubProductInfo.sort),t.$set(t.form,"id",e)})},handleCurrentChange:function(e){this.currentPage=e,this.getData(this.currentPage)},handleAddMessage:function(){this.title="新增",this.editDialogShow=!0,this.getSort()},selectionChange:function(e){this.multipSelectId=e},handleDelAll:function(){this.delflag="multiple",this.delDialogShow=!0},handleDelete:function(){var e=this;Object(o.a)(this.delflag,i.g,{id:this.delId},i.c,{ids:this.multipSelectId}).then(function(t){t.success&&(e.delDialogShow=!1,e.getData(e.currentPage))})},handleSave:function(){var e=this;Object(i.r)(this.form).then(function(t){Object(o.b)(e.title),t.success&&(e.editDialogShow=!1,e.form={},e.getData(e.currentPage))})},closeDialog:function(){this.delDialogShow=!1,this.editDialogShow=!1,this.form={}}},created:function(){this.getData(this.currentPage)}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"test"},[a("c-breadcrumb",{attrs:{tableTitle:"菜单管理"}}),e._v(" "),a("div",{staticClass:"container"},[a("c-search",{on:{delAll:e.handleDelAll,addMessage:e.handleAddMessage}}),e._v(" "),a("c-table",{attrs:{tableObject:e.tableObject},on:{selectionChange:e.selectionChange}}),e._v(" "),a("c-pagination",{attrs:{totalPage:e.totalPage},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("c-dialog",{attrs:{title:"删除",show:e.delDialogShow},on:{"update:show":function(t){e.delDialogShow=t},confirm:e.handleDelete,closeDialog:e.closeDialog}}),e._v(" "),a("c-dialog",{attrs:{title:e.title,show:e.editDialogShow,width:400,callback:e.handleSave,form:e.form,rules:e.rules},on:{"update:show":function(t){e.editDialogShow=t},closeDialog:e.closeDialog}},[a("el-form-item",{attrs:{label:"语言类型",prop:"languageType"}},[a("el-select",{attrs:{placeholder:"请选择语言"},model:{value:e.form.languageType,callback:function(t){e.$set(e.form,"languageType",t)},expression:"form.languageType"}},e._l(e.languageList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"排序：",prop:"sort"}},[a("el-input",{attrs:{placeholder:"请输入排序"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单名：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入菜单名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1)},staticRenderFns:[]},c=a("VU/8")(r,s,!1,null,null,null);t.default=c.exports}});