webpackJsonp([10],{cgHx:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("ifoU"),n=a.n(l),i=a("FxR9"),s=a("R2SV"),c=a("wWxp"),o={name:"newsManage",data:function(){var e=this;return{tableObject:{data:[],column:i.f,buttons:[{text:"编辑",callback:function(t,a){e.$router.push({path:"/editNewsMsg",query:{id:a.id,title:"编辑"}})}},{text:"删除",type:"danger",callback:function(t,a){e.delDialogShow=!0,e.delId=a.id,e.delflag="single"}}]},totalPage:1,currentPage:1,delDialogShow:!1,delId:"",multipSelectId:"",delflag:"single",newsType:new n.a([["0",["可优比新闻"]],["1",["婴儿床小百科"]],["2",["床垫小百科"]],["3",["睡眠小百科"]],["default",[""]]])}},methods:{getData:function(e){var t=this;c.o.getListData({pageNo:e,pageSize:10}).then(function(e){e.success&&(e.body.list.forEach(function(e){var a=t.newsType.get(e.newsType)||t.newsType.get("default");switch(e.newsType=a[0],e.isPublish){case"0":e.isPublish="未发布";break;case"1":e.isPublish="发布"}}),t.tableObject.data=e.body.list,t.totalPage=e.body.count)})},handleCurrentChange:function(e){this.currentPage=e,this.getData(this.currentPage)},handleAddMessage:function(){this.$router.push({path:"/editNewsMsg",query:{title:"新增"}})},selectionChange:function(e){this.multipSelectId=e},handleDelAll:function(){this.delflag="multiple",this.delDialogShow=!0},handleDelete:function(){var e=this;Object(s.a)(this.delflag,c.o.deleteData,{id:this.delId},c.o.batchDeleteData,{ids:this.multipSelectId}).then(function(t){t.success&&(e.delDialogShow=!1,e.getData(e.currentPage))})},closeDialog:function(){this.delDialogShow=!1}},created:function(){this.getData(this.currentPage)},activated:function(){this.getData(this.currentPage)}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"test"},[a("c-breadcrumb",{attrs:{tableTitle:"资讯管理"}}),e._v(" "),a("div",{staticClass:"container"},[a("c-search",{on:{delAll:e.handleDelAll,addMessage:e.handleAddMessage}}),e._v(" "),a("c-table",{attrs:{tableObject:e.tableObject},on:{selectionChange:e.selectionChange}}),e._v(" "),a("c-pagination",{attrs:{totalPage:e.totalPage},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("c-dialog",{attrs:{title:"删除",show:e.delDialogShow},on:{"update:show":function(t){e.delDialogShow=t},confirm:e.handleDelete,closeDialog:e.closeDialog}})],1)},staticRenderFns:[]},u=a("VU/8")(o,d,!1,null,null,null);t.default=u.exports}});